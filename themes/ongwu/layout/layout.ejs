<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%- page.title === '首页' ? config.title : page.title + ' - ' + config.title %></title>
    <meta name="description" content="<%- page.description || config.description %>">
    <meta name="keywords" content="<%- page.keywords || config.keywords %>">
    
    <!-- CSS -->
    <link rel="stylesheet" href="<%- config.root %>css/style.css">
    
    <!-- Favicon -->
    <link rel="icon" href="<%- config.root %>images/favicon.ico">
</head>
<body>
    <!-- 页面内容包装器 -->
    <div class="page-wrapper">
        <!-- 头部 -->
        <%- partial('_partial/header') %>
        
        <!-- 主要内容 -->
        <main class="main-content">
            <%- body %>
        </main>
    </div>
    
    <!-- 返回顶部按钮 -->
    <button class="back-to-top" id="backToTop" title="返回顶部">
        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <linearGradient id="rocketGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" style="stop-color:#ff69b4"/>
                    <stop offset="50%" style="stop-color:#9370db"/>
                    <stop offset="100%" style="stop-color:#00bfff"/>
                </linearGradient>
            </defs>
            <!-- 火箭主体 -->
            <path d="M12 2L10 8H8L6 12L8 16H10L12 22L14 16H16L18 12L16 8H14L12 2Z" stroke="url(#rocketGradient)" fill="none"/>
            <!-- 火箭头部 -->
            <path d="M12 4L11 8H13L12 4Z" stroke="url(#rocketGradient)" fill="none"/>
            <!-- 火箭尾翼 -->
            <path d="M8 14L6 18L8 20L10 16H8Z" stroke="url(#rocketGradient)" fill="none"/>
            <path d="M16 14L18 18L16 20L14 16H16Z" stroke="url(#rocketGradient)" fill="none"/>
            <!-- 火箭窗户 -->
            <circle cx="12" cy="10" r="1.5" stroke="url(#rocketGradient)" fill="none"/>
            <!-- 火箭火焰 -->
            <path d="M10 20L8 24H16L14 20H10Z" stroke="url(#rocketGradient)" fill="none"/>
            <path d="M11 20L9 23H15L13 20H11Z" stroke="url(#rocketGradient)" fill="none"/>
        </svg>
    </button>
    
    <!-- 底部 -->
    <%- partial('_partial/footer') %>
    
    <!-- JavaScript -->
    <script src="<%- config.root %>js/comment-api.js"></script>
    <script src="<%- config.root %>js/main.js"></script>
    
    <!-- 搜索功能 -->
    <%- partial('search') %>
    
    <!-- 返回顶部功能 -->
    <script>
    // 返回顶部功能
    (function() {
        const backToTop = document.getElementById('backToTop');
        
        // 监听滚动事件
        window.addEventListener('scroll', function() {
            if (window.pageYOffset > 300) {
                backToTop.classList.add('show');
            } else {
                backToTop.classList.remove('show');
            }
        });
        
        // 点击返回顶部
        backToTop.addEventListener('click', function() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
    })();
    </script>
</body>
</html>
